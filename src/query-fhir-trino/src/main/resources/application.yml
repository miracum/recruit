query-fhir-trino:
  version: "10.1.12" # x-release-please-version
  cohortSizeThreshold: 100
  schedule:
    enable: true
    unixCron: "0 * * * *"

fhir:
  url: ""
  server:
    # call, connect, read, and write timeout to the FHIR server in seconds
    timeout-in-seconds: 300
  systems:
    screeningListIdentifier: "https://fhir.miracum.org/uc1/NamingSystem/screeningListId"
    screeningListStudyReferenceExtension: "https://fhir.miracum.org/uc1/StructureDefinition/belongsToStudy"
    researchStudyAcronym: "https://fhir.miracum.org/uc1/StructureDefinition/studyAcronym"
    screeningListCoding: "https://fhir.miracum.org/uc1/CodeSystem/screeningList"
    studySource: "https://fhir.miracum.org/uc1/recruit/generatedByQueryModule"
    localIdentifier: "https://fhir.miracum.org/core/NamingSystem/patientId"
    patient-id: ${fhir.systems.localIdentifier}
    encounter-id: "https://fhir.miracum.org/identifiers/encounter-id"
    sub-encounter-id: "https://fhir.miracum.org/identifiers/sub-encounter-id"
    identifier-type: "http://terminology.hl7.org/CodeSystem/v2-0203"
    act-encounter-code: "http://terminology.hl7.org/CodeSystem/v3-ActCode"
    list-order: "http://terminology.hl7.org/CodeSystem/list-order"
    device-id: "https://fhir.miracum.org/uc1/identifiers/recruit-module-id"
    system-determined-subject-status: "https://fhir.miracum.org/uc1/CodeSystem/system-determined-subject-status"

logging:
  pattern:
    console: "%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:%5p}) %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m %X %n${LOG_EXCEPTION_CONVERSION_WORD:%wEx}"

spring:
  datasource:
    driver-class-name: io.trino.jdbc.TrinoDriver
    url: ""
    username: ""
    password: ""
  profiles:
    active: dev
  application:
    name: query-fhir-trino

management:
  endpoint:
    health:
      show-details: always
      probes:
        enabled: true
  endpoints:
    web:
      exposure:
        include: "*"

server:
  shutdown: graceful
